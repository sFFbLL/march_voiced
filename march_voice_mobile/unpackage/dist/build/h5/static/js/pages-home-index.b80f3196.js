(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-index"],{"04ff":function(t,e,n){var o=n("4675");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("4f06").default;a("674bf75a",o,!0,{sourceMap:!1,shadowMode:!1})},"0ff9":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={uniIcons:n("34f5").default,uniLoadMore:n("d508").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"home"},[n("v-uni-view",{staticClass:"header"},[n("tabs",{staticClass:"tag-nav",attrs:{tabs:t.tablist},on:{tabActive:function(e){arguments[0]=e=t.$handleEvent(e),t.tabActive.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"search",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search()}}},[n("v-uni-view",{staticClass:"search-icon"},[n("uni-icons",{attrs:{type:"search",size:"25",color:"#999"}})],1)],1)],1),n("v-uni-view",{staticClass:"content"},[t.tabIndex?t._e():n("v-uni-view",t._l(t.recommendList,(function(t,e){return n("v-uni-view",[n("recommend",{attrs:{articleInfo:t}})],1)})),1),t.tabIndex?n("v-uni-view",t._l(t.followList,(function(t,e){return n("v-uni-view",{key:e},[n("follow",{attrs:{articleInfo:t}})],1)})),1):t._e(),n("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isLoadMore,expression:"isLoadMore"}]},[n("uni-load-more",{staticClass:"loading",attrs:{status:t.loadStatus,iconType:"circle"}})],1)],1)],1)},i=[]},"1fc3":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var o={uBadge:n("cb97").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"tab-card"},[n("v-uni-view",{staticClass:"head-nav"},t._l(t.tabs,(function(e,o){return n("v-uni-view",{key:e.index,staticClass:"head-nav-item",class:e.isActive?"active":"",on:{click:function(n){arguments[0]=n=t.$handleEvent(n),t.handlerActive(e.index)}}},[n("v-uni-view",{staticClass:"center"},[t._v(t._s(e.value)),0==e.index&&0==t.interactRead&&t.type?n("u-badge",{attrs:{"is-dot":!0,type:"error"}}):t._e(),1==e.index&&0==t.attentionRead&&t.type?n("u-badge",{attrs:{"is-dot":!0,type:"error"}}):t._e(),2==e.index&&0==t.otherRead&&t.type?n("u-badge",{attrs:{"is-dot":!0,type:"error"}}):t._e(),n("v-uni-view",{staticClass:"head-nav-bottom"})],1)],1)})),1),t._t("default")],2)},i=[]},"29f2":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,".home[data-v-765e8bea],\n.home .content[data-v-765e8bea]{background-color:#f7f7f7;margin-bottom:%?30?%}.header[data-v-765e8bea]{position:fixed;z-index:10;width:100%;height:%?100?%;line-height:%?100?%;background-color:#fff;margin-bottom:%?15?%}.tag-nav[data-v-765e8bea]{display:inline-block;height:100%;width:90%}.search[data-v-765e8bea]{display:inline-block;width:8%}.search .search-icon[data-v-765e8bea]{position:absolute;top:%?5?%}.content[data-v-765e8bea]{background-color:#fff;padding-top:%?115?%}.loading[data-v-765e8bea]{background-color:#fff}[data-v-765e8bea] .uni-load-more .uni-load-more__text{font-size:%?28?%}[data-v-765e8bea] .uni-load-more .uni-load-more__img{height:%?30?%!important;width:%?30?%!important}",""]),t.exports=e},"463f":function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.show?n("v-uni-view",{staticClass:"u-badge",class:[t.isDot?"u-badge-dot":"","mini"==t.size?"u-badge-mini":"",t.type?"u-badge--bg--"+t.type:""],style:[{top:t.offset[0]+"rpx",right:t.offset[1]+"rpx",fontSize:t.fontSize+"rpx",position:t.absolute?"absolute":"static",color:t.color,backgroundColor:t.bgColor},t.boxStyle]},[t._v(t._s(t.showText))]):t._e()},i=[]},4675:function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/*引用uview*/.u-badge[data-v-34077204]{display:-webkit-inline-box;display:-webkit-inline-flex;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;-webkit-box-align:center;-webkit-align-items:center;align-items:center;line-height:%?24?%;padding:%?4?% %?8?%;border-radius:%?100?%;z-index:9}.u-badge--bg--primary[data-v-34077204]{background-color:#2979ff}.u-badge--bg--error[data-v-34077204]{background-color:#fa3534}.u-badge--bg--success[data-v-34077204]{background-color:#19be6b}.u-badge--bg--info[data-v-34077204]{background-color:#909399}.u-badge--bg--warning[data-v-34077204]{background-color:#f90}.u-badge-dot[data-v-34077204]{height:%?16?%;width:%?16?%;border-radius:%?100?%;line-height:1}.u-badge-mini[data-v-34077204]{-webkit-transform:scale(.8);transform:scale(.8);-webkit-transform-origin:center center;transform-origin:center center}.u-info[data-v-34077204]{background-color:#909399;color:#fff}',""]),t.exports=e},"4dff":function(t,e,n){"use strict";n.r(e);var o=n("0ff9"),a=n("5606");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("a5cc");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"765e8bea",null,!1,o["a"],r);e["default"]=c.exports},"50fc":function(t,e,n){var o=n("24fb");e=o(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */\r\n/*引用uview*/.head-nav[data-v-06dc7823]{display:-webkit-flex;display:-webkit-box;display:flex;overflow:hidden;height:100%}.head-nav .head-nav-item[data-v-06dc7823]{-webkit-box-flex:1;-webkit-flex:1;flex:1;text-align:center;font-size:%?34?%;font-family:Microsoft YaHei;font-weight:700;letter-spacing:%?4?%;color:#999}.head-nav-item .center[data-v-06dc7823]{position:relative;margin:auto;width:%?228?%}.active .center[data-v-06dc7823]{color:#404040}.active .center .head-nav-bottom[data-v-06dc7823]{position:relative;margin:auto;width:50%;height:%?8?%;top:%?-8?%;background-color:#404040}',""]),t.exports=e},5606:function(t,e,n){"use strict";n.r(e);var o=n("fd0c"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},"7b09":function(t,e,n){var o=n("29f2");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("4f06").default;a("11246978",o,!0,{sourceMap:!1,shadowMode:!1})},"8a32":function(t,e,n){"use strict";n.r(e);var o=n("8c76"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},"8bc3":function(t,e,n){"use strict";n.r(e);var o=n("923a"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},"8c76":function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={name:"u-badge",props:{type:{type:String,default:"error"},size:{type:String,default:"default"},isDot:{type:Boolean,default:!1},count:{type:[Number,String]},overflowCount:{type:Number,default:99},showZero:{type:Boolean,default:!1},offset:{type:Array,default:function(){return[20,20]}},absolute:{type:Boolean,default:!0},fontSize:{type:[String,Number],default:"24"},color:{type:String,default:"#ffffff"},bgColor:{type:String,default:""},isCenter:{type:Boolean,default:!1}},computed:{boxStyle:function(){var t={};return this.isCenter?(t.top=0,t.right=0,t.transform="translateY(-50%) translateX(50%)"):(t.top=this.offset[0]+"rpx",t.right=this.offset[1]+"rpx",t.transform="translateY(0) translateX(0)"),"mini"==this.size&&(t.transform=t.transform+" scale(0.8)"),t},showText:function(){return this.isDot?"":this.count>this.overflowCount?"".concat(this.overflowCount,"+"):this.count},show:function(){return 0!=this.count||0!=this.showZero}}};e.default=o},"923a":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o={data:function(){return{}},props:{tabs:{type:Array,default:[]},type:{type:Boolean}},methods:{handlerActive:function(t){0==t?this.$store.commit("changeInteract",1):1==t?this.$store.commit("changeAttention",1):2==t&&this.$store.commit("changeOther",1),this.$emit("tabActive",t)}},computed:{interactRead:function(){return this.$store.state.interactRead},attentionRead:function(){return this.$store.state.attentionRead},otherRead:function(){return this.$store.state.otherRead}},mounted:function(){},created:function(){}};e.default=o},a5cc:function(t,e,n){"use strict";var o=n("7b09"),a=n.n(o);a.a},b37c:function(t,e,n){var o=n("50fc");"string"===typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);var a=n("4f06").default;a("0ffdf5f4",o,!0,{sourceMap:!1,shadowMode:!1})},cb97:function(t,e,n){"use strict";n.r(e);var o=n("463f"),a=n("8a32");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("d67e");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"34077204",null,!1,o["a"],r);e["default"]=c.exports},d040:function(t,e,n){"use strict";var o=n("b37c"),a=n.n(o);a.a},d67e:function(t,e,n){"use strict";var o=n("04ff"),a=n.n(o);a.a},d6e3:function(t,e,n){"use strict";n.r(e);var o=n("1fc3"),a=n("8bc3");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("d040");var r,s=n("f0c5"),c=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"06dc7823",null,!1,o["a"],r);e["default"]=c.exports},fd0c:function(t,e,n){"use strict";var o=n("4ea4");n("99af"),n("d81d"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(n("2909")),i=o(n("34f5")),r=o(n("d6e3")),s=o(n("7b34")),c=o(n("901f")),d=o(n("d508")),u=n("0e07"),l=n("e220"),f=n("dccd"),h=n("c98b"),v=n("5c16"),m={components:{uniIcons:i.default,tabs:r.default,recommend:s.default,follow:c.default,uniLoadMore:d.default},data:function(){return{recommendCurrent:1,articleCurrent:1,followCurrent:1,size:4,tabIndex:"",tablist:[{index:0,value:"推荐",isActive:!0},{index:1,value:"关注",isActive:!1}],recommendList:[],followList:[],loadStatus:"loading",recommendLoadStatus:"loading",followLoadStatus:"loading",isLoadMore:!1,isRecommend:!0}},created:function(){console.log("Create"),this.recommend(),this.follow()},onShow:function(){(0,u.check)()},onLoad:function(){if(console.log("onload"),!(0,h.getToken)())if((0,h.getOpenId)()){console.log("没有token，有OpenId");var t=(0,f.returnWxcode)();if(t){console.log("成功拿到code");var e={code:t,status:1};(0,v.login)(e).then((function(t){console.log(t.data.token),(0,h.setToken)(t.data.token)})).catch((function(t){console.log(t,"err login")}))}else(0,f.getWxCode)()}else{console.log("没有token，没有OpenId");var n=(0,f.returnWxcode)();if(n){console.log("成功拿到code");var o={code:n,status:1};(0,v.login)(o).then((function(t){console.log(t,"注册"),(0,h.setOpenId)(t.data.openid),1==t.data.status?(console.log("未登录"),uni.navigateTo({url:"../login/login"})):(console.log(t.data.token),(0,h.setToken)(t.data.token))})).catch((function(t){console.log(t,"err login")}))}else(0,f.getWxCode)()}},onReachBottom:function(){this.isLoadMore||this.tabIndex?!this.isLoadMore&&this.tabIndex&&(this.isLoadMore=!0,this.followCurrent+=1,this.follow()):(this.isLoadMore=!0,this.isRecommend?(this.recommendCurrent+=1,this.recommend()):(this.articleCurrent+=1,this.getArticleList()))},methods:{tabActive:function(t){this.tablist.map((function(e,n){e.isActive=t==n})),t?t&&(this.loadStatus=this.followLoadStatus,this.isLoadMore=!1):(this.loadStatus=this.recommendLoadStatus,this.isLoadMore=!1),this.tabIndex=t},recommend:function(){var t=this,e=this,n={current:this.recommendCurrent,size:this.size};(0,l.getRecommend)(n).then((function(n){e.recommendList=[].concat((0,a.default)(e.recommendList),(0,a.default)(n.data)),n.data.length<e.size?(e.loadStatus="nomore",e.isRecommend=!1,e.getArticleList()):1===t.recommendCurrent?(e.isLoadMore=!1,e.recommendList=[].concat((0,a.default)(e.recommendList),(0,a.default)(n.data))):setTimeout((function(){e.isLoadMore=!1,e.recommendList=[].concat((0,a.default)(e.recommendList),(0,a.default)(n.data))}),3e3)}))},getArticleList:function(){var t=this,e=this,n={current:this.articleCurrent,size:this.size};(0,l.getArticleList)(n).then((function(n){e.recommendList=[].concat((0,a.default)(e.recommendList),(0,a.default)(n.data)),n.data.length<e.size?(e.loadStatus="nomore",e.recommendLoadStatus="nomore"):1===t.articleCurrent?(e.isLoadMore=!1,e.recommendList=[].concat((0,a.default)(e.recommendList),(0,a.default)(n.data))):setTimeout((function(){e.isLoadMore=!1,e.recommendList=[].concat((0,a.default)(e.recommendList),(0,a.default)(n.data))}),3e3)}))},follow:function(){var t=this,e=this,n={current:this.followCurrent,size:this.size};(0,l.getFollow)(n).then((function(n){e.followList=[].concat((0,a.default)(e.followList),(0,a.default)(n.data.records)),n.data.records.length<e.size?(e.loadStatus="nomore",e.follLoadStatus="nomore"):1===t.followCurrent?(e.isLoadMore=!1,e.followList=[].concat((0,a.default)(e.followList),(0,a.default)(n.data.records))):setTimeout((function(){e.isLoadMore=!1,e.followList=[].concat((0,a.default)(e.followList),(0,a.default)(n.data.records))}),3e3)}))},search:function(){uni.navigateTo({url:"../search/index"})}}};e.default=m}}]);