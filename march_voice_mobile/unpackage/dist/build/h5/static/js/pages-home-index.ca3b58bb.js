(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-home-index"],{"0279":function(t,e,a){"use strict";a.r(e);var n=a("2c63"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"029d":function(t,e,a){"use strict";a.r(e);var n=a("c48b"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},"065b":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".recommend-component[data-v-1082c012]{background-color:#fff;margin:auto;margin-bottom:%?15?%;padding:%?30?% %?30?%}[data-v-1082c012] .attention-cell .flex-item{border:none;padding:0}[data-v-1082c012] .article-title{margin-top:%?17?%}.followMessage[data-v-1082c012]{font-size:%?26?%;width:%?420?%;color:#969696}",""]),t.exports=e},"21b7":function(t,e,a){"use strict";a.r(e);var n=a("a2e7"),i=a("328e");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("6b51");var r,c=a("f0c5"),l=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"5cfcd810",null,!1,n["a"],r);e["default"]=l.exports},"2c63":function(t,e,a){"use strict";var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("d50f")),o=n(a("7cb0")),r=n(a("21b7")),c=n(a("40e6")),l={data:function(){return{}},props:{articleInfo:{type:Object,default:{}}},components:{articleTitle:i.default,articleContent:o.default,articleInteract:r.default,attentionAndFansCell:c.default},methods:{},mounted:function(){}};e.default=l},"2e8c":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"article-content",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toDetails.apply(void 0,arguments)}}},[a("v-uni-view",[a("v-uni-text",{ref:"articleContent",staticClass:"article-text",domProps:{innerHTML:t._s(t.textContent)}},[t._v(t._s(t.textContent))])],1),""!=t.articleImg?a("v-uni-view",{staticClass:"article-img"},[a("v-uni-image",{attrs:{src:t.articleImg,mode:"aspectFill"}})],1):t._e()],1)},o=[]},"328e":function(t,e,a){"use strict";a.r(e);var n=a("a8e9"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},3675:function(t,e,a){var n=a("b516");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("0cad2465",n,!0,{sourceMap:!1,shadowMode:!1})},"4c4d":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".article-content[data-v-04cd7349]{margin-top:%?18?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?32?%;font-family:PingFangSC;color:#404040;min-height:%?140?%}.article-text[data-v-04cd7349]{overflow:hidden;-webkit-line-clamp:3;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;line-height:150%}.article-img[data-v-04cd7349]{display:inline-block\n\t/* margin-right: 30rpx; */}.article-img uni-image[data-v-04cd7349]{width:%?180?%;height:%?140?%;background-color:#eee;border-radius:4px}",""]),t.exports=e},"4c53":function(t,e,a){var n=a("065b");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("57c51fd9",n,!0,{sourceMap:!1,shadowMode:!1})},"4dff":function(t,e,a){"use strict";a.r(e);var n=a("a90c"),i=a("5606");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("c4c0");var r,c=a("f0c5"),l=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"2fd8861a",null,!1,n["a"],r);e["default"]=l.exports},5606:function(t,e,a){"use strict";a.r(e);var n=a("fd0c"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},5688:function(t,e,a){var n=a("5dd3");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("0b8ee468",n,!0,{sourceMap:!1,shadowMode:!1})},"5dd3":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".article-interact[data-v-5cfcd810]{margin-top:%?19?%;color:#999;font-size:%?22?%;font-family:PingFangSC}.interact-item uni-text[data-v-5cfcd810]{margin-left:%?8?%}.point[data-v-5cfcd810]{margin:0 %?8?%}.upDateTime[data-v-5cfcd810]{display:inline}",""]),t.exports=e},"5f8b":function(t,e,a){var n=a("b14d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("7cfbb0bb",n,!0,{sourceMap:!1,shadowMode:!1})},"62cd":function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"recommend-component"},[a("articleTitle",{attrs:{articleTitle:t.articleInfo.title,articleId:t.articleInfo.id,commentTotal:t.articleInfo.commentTotal}}),t.notshow?a("attentionAndFansCell",{attrs:{aid:t.articleInfo.create_by,nickname:t.articleInfo.nickname,avatarPath:t.articleInfo.avatarPath,isFollow:t.articleInfo.isFollow}}):t._e(),a("articleContent",{attrs:{articleContent:t.articleInfo.describe,articleImg:t.articleInfo.image,commentTotal:t.articleInfo.commentTotal,id:t.articleInfo.id}}),t.isArticleInteract?a("articleInteract",{attrs:{favourTotal:t.articleInfo.favourTotal,commentTotal:t.articleInfo.commentTotal,collectTotal:t.articleInfo.collectTotal}}):t._e()],1)},o=[]},6760:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"recommend-component"},[a("attentionAndFansCell",{attrs:{aid:t.articleInfo.create_by,nickname:t.articleInfo.nickname,avatarPath:t.articleInfo.avatarPath}},[a("v-uni-view",{staticClass:"followMessage",attrs:{slot:"underText"},slot:"underText"},[0===t.articleInfo.status?a("v-uni-text",[t._v("发布")]):t._e(),1===t.articleInfo.status?a("v-uni-text",[t._v("评论")]):t._e(),2===t.articleInfo.status?a("v-uni-text",[t._v("收藏")]):t._e(),3===t.articleInfo.status?a("v-uni-text",[t._v("转载")]):t._e(),4===t.articleInfo.status?a("v-uni-text",[t._v("赞")]):t._e(),a("v-uni-text",[t._v("了该内容")])],1)],1),a("articleTitle",{attrs:{articleTitle:t.articleInfo.title,articleId:t.articleInfo.articleId}}),a("articleContent",{attrs:{articleContent:t.articleInfo.describe,articleImg:t.articleInfo.image,id:t.articleInfo.articleId}}),a("articleInteract",{attrs:{favourTotal:t.articleInfo.favourTotal,commentTotal:t.articleInfo.commentTotal,dateTime:t.articleInfo.createTime}})],1)},o=[]},"6b51":function(t,e,a){"use strict";var n=a("5688"),i=a.n(n);i.a},"7b34":function(t,e,a){"use strict";a.r(e);var n=a("62cd"),i=a("e2bb");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("ad04");var r,c=a("f0c5"),l=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"a28d803e",null,!1,n["a"],r);e["default"]=l.exports},"7cb0":function(t,e,a){"use strict";a.r(e);var n=a("2e8c"),i=a("029d");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("8e8b");var r,c=a("f0c5"),l=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"04cd7349",null,!1,n["a"],r);e["default"]=l.exports},"8e8b":function(t,e,a){"use strict";var n=a("e474"),i=a.n(n);i.a},"901f":function(t,e,a){"use strict";a.r(e);var n=a("6760"),i=a("0279");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("db2b");var r,c=a("f0c5"),l=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"1082c012",null,!1,n["a"],r);e["default"]=l.exports},a2e7:function(t,e,a){"use strict";var n;a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"article-interact"},[a("v-uni-view",{staticClass:"interact-item"},[t._t("before"),t._v(t._s(t.favourTotal)),a("v-uni-text",[t._v("赞")]),a("v-uni-text",{staticClass:"point"},[t._v("·")]),t._v(t._s(t.commentTotal)),a("v-uni-text",[t._v("评论")]),null!=t.collectTotal?a("v-uni-text",{staticClass:"collectTotal"},[a("v-uni-text",{staticClass:"point"},[t._v("·")]),t._v(t._s(t.collectTotal)),a("v-uni-text",[t._v("收藏")])],1):t._e(),null!=t.dateTime?a("v-uni-text",{staticClass:"dateTime"},[a("v-uni-text",{staticClass:"point"},[t._v("·")]),t._v(t._s(t.format(t.dateTime)))],1):t._e(),t._t("after")],2)],1)},o=[]},a8e9:function(t,e,a){"use strict";var n=a("4ea4");a("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("1e61")),o={data:function(){return{}},props:{favourTotal:{type:Number,default:0},commentTotal:{type:Number,default:0},collectTotal:{type:Number,default:null},dateTime:{type:Number,default:null}},components:{},methods:{format:function(t){var e=new Date(t),a=(0,i.default)(e).format("YYYY-MM-DD HH:mm:ss");return a}},mounted:function(){}};e.default=o},a90c:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={uniIcons:a("34f5").default,uniLoadMore:a("d508").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"home"},[a("v-uni-view",{staticClass:"header"},[a("tabs",{staticClass:"tag-nav",attrs:{tabs:t.tablist},on:{tabActive:function(e){arguments[0]=e=t.$handleEvent(e),t.tabActive.apply(void 0,arguments)}}}),a("v-uni-view",{staticClass:"search",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.search()}}},[a("v-uni-view",{staticClass:"search-icon"},[a("uni-icons",{attrs:{type:"search",size:"25",color:"#999"}})],1)],1)],1),a("v-uni-view",{staticClass:"content"},[t.tabIndex?t._e():a("v-uni-view",t._l(t.recommendList,(function(e,n){return a("v-uni-view",[t.recommendList.length?a("recommend",{attrs:{notshow:t.notshow,articleInfo:e}}):t._e()],1)})),1),t.tabIndex?a("v-uni-view",t._l(t.followList,(function(t,e){return a("v-uni-view",{key:e},[a("follow",{attrs:{articleInfo:t}})],1)})),1):t._e(),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:t.isLoadMore,expression:"isLoadMore"}]},[a("uni-load-more",{staticClass:"loading",attrs:{status:t.loadStatus,iconType:"circle"}})],1)],1)],1)},o=[]},ad04:function(t,e,a){"use strict";var n=a("5f8b"),i=a.n(n);i.a},b14d:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".recommend-component[data-v-a28d803e]{background-color:#fff;margin:auto;margin-bottom:%?15?%;padding:%?30?% %?30?%}[data-v-a28d803e] .attention-cell .flex-item{border:none;padding:0;margin-top:%?17?%}",""]),t.exports=e},b516:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".home[data-v-2fd8861a],\n.home .content[data-v-2fd8861a]{background-color:#f7f7f7;margin-bottom:%?30?%}.header[data-v-2fd8861a]{position:fixed;z-index:10;width:100%;height:%?100?%;line-height:%?100?%;background-color:#fff;margin-bottom:%?15?%}.tag-nav[data-v-2fd8861a]{display:inline-block;height:100%;width:90%}.search[data-v-2fd8861a]{display:inline-block;width:8%}.search .search-icon[data-v-2fd8861a]{position:absolute;top:%?5?%}.content[data-v-2fd8861a]{background-color:#fff;padding-top:%?115?%}.loading[data-v-2fd8861a]{background-color:#fff}[data-v-2fd8861a] .uni-load-more .uni-load-more__text{font-size:%?28?%}[data-v-2fd8861a] .uni-load-more .uni-load-more__img{height:%?30?%!important;width:%?30?%!important}",""]),t.exports=e},c48b:function(t,e,a){"use strict";a("a9e3"),a("ac1f"),a("5319"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{textContent:""}},props:{id:{type:Number,default:null},articleContent:{type:String,default:""},articleImg:{type:String,default:""},isIdea:{type:Boolean,default:!1},commentTotal:{type:Number,default:0}},components:{},methods:{toDetails:function(){this.isIdea?uni.navigateTo({url:"../ideaDetails/index?id="+this.id+"&commentTotal="+this.commentTotal}):uni.navigateTo({url:"../articleDetails/index?id="+this.id+"&commentTotal="+this.commentTotal})}},created:function(){this.textContent=this.articleContent},mounted:function(){this.textContent=this.$refs.articleContent.$el.innerText.replace(/\ +/g,"").replace(/[\r\n]/g,"")}};e.default=n},c4c0:function(t,e,a){"use strict";var n=a("3675"),i=a.n(n);i.a},cdf3:function(t,e,a){"use strict";var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("d50f")),o=n(a("7cb0")),r=n(a("21b7")),c=n(a("40e6")),l={data:function(){return{}},props:{articleInfo:{type:Object,default:{}},isArticleInteract:{type:Boolean,default:!0},notshow:{type:Boolean,default:!1}},components:{articleTitle:i.default,articleContent:o.default,articleInteract:r.default,attentionAndFansCell:c.default},methods:{}};e.default=l},db2b:function(t,e,a){"use strict";var n=a("4c53"),i=a.n(n);i.a},e220:function(t,e,a){"use strict";var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.getRecommend=o,e.getArticleList=r,e.getFollow=c,e.searchArticle=l,e.searchUser=u;var i=n(a("367e"));function o(t){return i.default.get("/api/article/top",{params:t})}function r(t){return i.default.get("/api/article/index",{params:t})}function c(t){return i.default.get("/api/message/follow",{params:t})}function l(t){return i.default.get("/api/base/searchArticle",{params:t})}function u(t){return i.default.get("/api/base/searchUser",{params:t})}},e2bb:function(t,e,a){"use strict";a.r(e);var n=a("cdf3"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},e474:function(t,e,a){var n=a("4c4d");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("49407eee",n,!0,{sourceMap:!1,shadowMode:!1})},fd0c:function(t,e,a){"use strict";(function(t){var n=a("4ea4");a("99af"),a("d81d"),a("d3b7"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=n(a("2909"));a("96cf");var o=n(a("1da1")),r=n(a("34f5")),c=n(a("d6e3")),l=n(a("7b34")),u=n(a("901f")),s=n(a("d508")),d=(a("0e07"),a("e220")),f=a("4b28"),v=(a("dccd"),a("c98b")),m=(a("5c16"),{components:{uniIcons:r.default,tabs:c.default,recommend:l.default,follow:u.default,uniLoadMore:s.default},data:function(){return{notshow:!0,recommendCurrent:1,articleCurrent:1,followCurrent:1,size:5,tabIndex:"",tablist:[{index:0,value:"推荐",isActive:!0},{index:1,value:"关注",isActive:!1}],recommendList:[],followList:[],loadStatus:"loading",recommendLoadStatus:"loading",followLoadStatus:"loading",isLoadMore:!1,isRecommend:!0}},created:function(){var t=this;if((0,v.getToken)())this.follow();else{var e=function(){var e=(0,o.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(t,e){(0,f.forLogin)()}));case 2:t.recommend(),t.follow();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}},onPullDownRefresh:function(){this.recommendCurrent=1,this.articleCurrent=0,this.followCurrent=1,this.recommendList=[],this.followList=[],this.recommend(),this.follow(),setTimeout((function(){uni.stopPullDownRefresh()}),2e3)},onReachBottom:function(){this.isLoadMore||this.tabIndex?!this.isLoadMore&&this.tabIndex&&(this.isLoadMore=!0,this.followCurrent+=1,this.follow()):(this.isLoadMore=!0,this.recommendCurrent+=1,this.recommend())},methods:{tabActive:function(t){this.tablist.map((function(e,a){e.isActive=t==a})),t?t&&(this.loadStatus=this.followLoadStatus,this.isLoadMore=!1):(this.loadStatus=this.recommendLoadStatus,this.isLoadMore=!1),this.tabIndex=t},recommend:function(){var e=this;t("log",0x27797f26d671c8," at pages/home/index.vue:167");var a=this,n={current:this.recommendCurrent,size:this.size};(0,d.getRecommend)(n).then((function(t){t.data?(1===e.recommendCurrent?a.isLoadMore=!1:setTimeout((function(){a.isLoadMore=!1}),3e3),t.data.length<=e.size&&a.getArticleList(),a.recommendList=[].concat((0,i.default)(a.recommendList),(0,i.default)(t.data))):(e.loadStatus="loading",e.articleCurrent++,a.getArticleList())}))},getArticleList:function(){var t=this,e=this,a={current:this.articleCurrent,size:this.size};(0,d.getArticleList)(a).then((function(a){a.data?(1===t.articleCurrent?e.isLoadMore=!1:setTimeout((function(){e.isLoadMore=!1}),3e3),e.recommendList=[].concat((0,i.default)(e.recommendList),(0,i.default)(a.data))):t.loadStatus="nomore"}))},follow:function(){var t=this,e=this,a={current:this.followCurrent,size:this.size};(0,d.getFollow)(a).then((function(a){a.data?(1===t.followCurrent?e.isLoadMore=!1:setTimeout((function(){e.isLoadMore=!1}),3e3),e.followList=[].concat((0,i.default)(e.followList),(0,i.default)(a.data.records))):t.loadStatus="nomore"}))},search:function(){uni.navigateTo({url:"../search/index"})}}});e.default=m}).call(this,a("0de9")["log"])}}]);